<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ειδοποιήσεις</title>
  <link rel="stylesheet" href="/../../css/notifications.css">
  <link rel="stylesheet" href="/../../css/menu.css">
</head>

<body>
    <div id="menu"></div>

    <h2>Οι ειδοποιήσεις μου</h2>
      
    <div class="main-content">
      <div class="buttons">
        <button id="new-notifications-btn" class="active">Νέες Ειδοποιήσεις</button>
        <button id="read-notifications-btn">Αναγνωσμένες Ειδοποιήσεις</button>
      </div>
      
      <div class="notification-container">
        <div id="new-notifications" class="notification-list active">
          <div class="notification" data-id="1">
            <strong>Ενημέρωση Παραγγελίας #4523</strong>
            <p>Νέα παραγγελία 100 επαγγελματικών ομπρελών παραλήφθηκε. Η παραγωγή ξεκινά αύριο.</p>
            <button class="mark-read-btn">Επισήμανση ως Αναγνωσμένο</button>
          </div>
          <div class="notification" data-id="2">
            <strong>Συντήρηση Μηχανημάτων</strong>
            <p>Η μηχανή κοπής υφάσματος θα συντηρηθεί την Πέμπτη στις 14:00. Παρακαλούμε προσαρμόστε το πρόγραμμά σας.</p>
            <button class="mark-read-btn">Επισήμανση ως Αναγνωσμένο</button>
          </div>
        </div>
        
        <div id="read-notifications" class="notification-list">
          <div class="notification" data-id="3">
            <strong>Αλλαγή Σχεδίου Ομπρέλας</strong>
            <p>Η νέα έκδοση του μοντέλου "ProShade 3000" περιλαμβάνει ενισχυμένο σκελετό. Εφαρμόζεται από σήμερα.</p>
          </div>
        </div>        
      </div>
    </div>

    <script>document.addEventListener('DOMContentLoaded', () => {
      const newNotificationsBtn = document.getElementById('new-notifications-btn');
      const readNotificationsBtn = document.getElementById('read-notifications-btn');
      const newNotificationsList = document.getElementById('new-notifications');
      const readNotificationsList = document.getElementById('read-notifications');
    
      function switchList(activeList, inactiveList, activeButton, inactiveButton) {
        activeList.classList.add('active');
        inactiveList.classList.remove('active');
        activeButton.classList.add('active');
        inactiveButton.classList.remove('active');
      }
    
      newNotificationsList.addEventListener('click', (event) => {
        if (event.target.classList.contains('mark-read-btn')) {
          const notificationElement = event.target.closest('.notification');
          const notificationId = notificationElement.getAttribute('data-id');
    
          readNotificationsList.appendChild(notificationElement);
          notificationElement.querySelector('.mark-read-btn').remove();
    
          if (!newNotificationsList.querySelector('.notification')) {
            switchList(readNotificationsList, newNotificationsList, readNotificationsBtn, newNotificationsBtn);
          }
        }
      });
    
      newNotificationsBtn.addEventListener('click', () => {
        switchList(newNotificationsList, readNotificationsList, newNotificationsBtn, readNotificationsBtn);
      });
    
      readNotificationsBtn.addEventListener('click', () => {
        switchList(readNotificationsList, newNotificationsList, readNotificationsBtn, newNotificationsBtn);
      });
    
      switchList(newNotificationsList, readNotificationsList, newNotificationsBtn, readNotificationsBtn);
      });  
  </script>
  
  <script src="../../javascript/menu-loader.js"></script>
  <script src="../../javascript/navigations.js"></script>
</body>
</html>